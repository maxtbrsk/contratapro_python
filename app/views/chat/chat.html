{% extends "base.html" %}

{% block content %}
<div class="flex flex-col md:flex-row px-12 h-[85vh]">
  <!-- Conversas -->
  <div class="w-full md:w-1/3 h-4/5 my-4 md:m-10 border-2 border-teal-600 rounded-xl overflow-y-auto bg-white">
    <p class="my-2 ml-4 font-semibold text-lg md:text-xl">Conversas</p>
    {% for chat in chats %}
    <a href="/chat/{{ chat.id }}" class="block no-underline hover:no-underline">
      <div class="flex items-center p-4 hover:bg-gray-100 ease-in-out duration-200 cursor-pointer">
        <img
          src="/app/static/fotos/{{ chat.outro_usuario_foto }}"
          alt="{{ chat.outro_usuario_nome }}"
          class="w-10 h-10 md:w-12 md:h-12 rounded-full mr-4"
        />
        <div class="flex-1">
          <span class="text-gray-700 font-semibold text-sm md:text-base">{{ chat.outro_usuario_nome }}</span>
          <p class="text-gray-500 text-xs md:text-sm truncate">{{ chat.ultima_mensagem }}</p>
        </div>
        {% if chat.nao_lidas > 0 %}
        <span
          class="ml-2 bg-red-500 text-white rounded-full h-5 w-5 md:h-6 md:w-6 flex items-center justify-center text-xs">
          {{ chat.nao_lidas }}
        </span>
        {% endif %}
      </div>
    </a>
    {% endfor %}
  </div>

  <!-- Chat -->
  <div
    class="w-full md:w-2/3 h-4/5 my-4 md:my-10 md:mr-10 border-2 border-teal-600 rounded-xl flex flex-col bg-white">
    <a href="/chat" class="flex justify-end font-semibold m-4 text-gray-600 no-underline hover:no-underline">X</a>
    <div class="flex items-center justify-center h-full">
      <div class="text-sm md:text-lg text-gray-500">Clique para abrir uma conversa</div>
    </div>
  </div>
</div>
{% endblock %}
